@import "tailwindcss";

/* --- PERFORMANCE BOOSTERS --- */

/* Force the GPU to handle bus markers to stop lag */
.custom-bus-icon {
    transition: transform 1000ms linear; /* Smooth rotation */
    display: flex;
    align-items: center;
    justify-content: center;
}

.pulse-ring {
    position: absolute;
    width: 45px;
    height: 45px;
    border: 3px solid #10b981;
    border-radius: 50%;
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0% { transform: scale(0.5); opacity: 1; }
    100% { transform: scale(1.5); opacity: 0; }
}

/* Force the GPU for the ETA label so it doesn't stutter */
.custom-eta-pill {
  transition: none !important; /* This stops the 'sliding' effect */
    animation: none !important;
}

.custom-eta-pill > div {
    transition: none !important;
}

.is-zooming .custom-eta-pill {
    display: none !important;
}

/* Kill transitions during zooming to prevent "ghost" buses flying across the screen */
.leaflet-zoom-anim .custom-bus-icon,
.is-zooming .custom-bus-icon,
.is-zooming .bus-arrow-needle,
.is-zooming .custom-eta-pill {
  transition: none !important;
  visibility: hidden; /* Temporarily hide buses during zoom for a cleaner look */
}

/* --- SCROLLBAR & UI --- */

.custom-scrollbar::-webkit-scrollbar {
  width: 5px;
}
.custom-scrollbar::-webkit-scrollbar-track {
  background: #0a0a0a;
}
.custom-scrollbar::-webkit-scrollbar-thumb {
  background: #C05621;
  border-radius: 10px;
}
.custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background: #e66a2e;
}

/* --- LEAFLET CLEANUP --- */

.leaflet-popup-content-wrapper {
  background: #ffffff !important;
  color: #0a0a0a !important;
  border-radius: 12px !important;
  padding: 0px !important;
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3) !important;
}

.no-transition {
  transition: none !important;
  animation: none !important;
}

/* Make the road paths look "glowy" and modern */
.leaflet-interactive {
  filter: drop-shadow(0 0 2px rgba(59, 130, 246, 0.5));
}